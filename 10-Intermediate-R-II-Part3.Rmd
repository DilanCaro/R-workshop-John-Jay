
# (Optional) Part V: Working with Dates and Times (20 minutes) {-}


## Handling date and time data in R {-}

R provides the Date class for dates and the POSIXct and POSIXlt classes for times.

```{r}
# Converting a string to a Date object
date_example <- as.Date("2021-01-01")
print(date_example)

# Converting a string to a POSIXct datetime object
datetime_example <- as.POSIXct("2021-01-01 10:00:00", tz = "GMT")
print(datetime_example)

```

## Common date and time functions {-}

```{r}

# Extracting parts of a date
year <- format(date_example, "%Y")
month <- format(date_example, "%m")
day <- format(date_example, "%d")
print(paste("Year:", year, "- Month:", month, "- Day:", day))

# Working with time intervals
start_time <- as.POSIXct("2021-01-01 08:00:00", tz = "GMT")
end_time <- as.POSIXct("2021-01-01 10:00:00", tz = "GMT")
time_diff <- difftime(end_time, start_time, units = "hours")
print(paste("Difference in hours:", time_diff))

# Loading a dataset with date and time data for exercises
# Using the 'airquality' dataset from the 'datasets' package
data(airquality)
airquality$Date <- as.Date(with(airquality, paste(1973, Month, Day, sep = "-")))
print(head(airquality))
```

Exercises:
```{r}
data(airquality)

airquality$Date <- as.Date(with(airquality, paste(1973, Month, Day, sep = "-")))
print(head(airquality))
```

1. Convert the 'Date' column in the 'airquality' dataset to a week day and create a new column 'WeekDay'.

```{r}
airquality$WeekDay <- weekdays(airquality$Date)
print(head(airquality))
```

2. Calculate the number of days between the first and last measurements in the 'airquality' dataset.

```{r}
date_diff <- difftime(max(airquality$Date), min(airquality$Date), units = "days")
print(paste("Days between first and last measurement:", date_diff))
```

